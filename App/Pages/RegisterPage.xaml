<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="App.Pages.RegisterPage"
             xmlns:viewmodel="clr-namespace:App.PageModels"
             x:DataType="viewmodel:RegisterPageModel"
             BackgroundColor="{AppThemeBinding Light={StaticResource LightBackground}, Dark={StaticResource DarkBackground}}">

    <ScrollView>
        <Grid RowDefinitions="Auto,Auto,Auto" 
              RowSpacing="30"
              Padding="20,40,20,20"
              VerticalOptions="Center">

            <!-- Header Section -->
            <VerticalStackLayout Grid.Row="0" Spacing="10" HorizontalOptions="Center">
                <Label Text="Create Account" 
                       FontSize="28"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />

                <Label Text="Join our community today" 
                       FontSize="14"
                       TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray400}}"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>

            <!-- Form Section -->
            <VerticalStackLayout Grid.Row="1" Spacing="20" Margin="15,0" MinimumWidthRequest="200" MaximumWidthRequest="400">
                <!-- Full Name -->
                <Frame CornerRadius="12" 
                       BorderColor="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray700}}"
                       BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                       Padding="0"
                       HeightRequest="60">
                    <Entry Text="{Binding FullName}" 
                           Placeholder="Full name"
                         
                           PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray500}}"
                           ClearButtonVisibility="WhileEditing"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                           BackgroundColor="Transparent"/>
                </Frame>

                <!-- Email -->
                <Frame CornerRadius="12" 
                       BorderColor="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray700}}"
                       BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                       Padding="0"
                       HeightRequest="60">
                    <Entry Text="{Binding Email}" 
                           Placeholder="Email address"
                           PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray500}}"
                           Keyboard="Email"
                           ClearButtonVisibility="WhileEditing"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                           BackgroundColor="Transparent"/>
                </Frame>

                <!-- Password -->
                <Frame CornerRadius="12" 
                       BorderColor="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray700}}"
                       BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                       Padding="0"
                       HeightRequest="60">
                    <Entry Text="{Binding Password}" 
                           Placeholder="Password"
                           PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray500}}"
                           IsPassword="True"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                           BackgroundColor="Transparent"/>
                </Frame>

                <!-- Confirm Password -->
                <Frame CornerRadius="12" 
                       BorderColor="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray700}}"
                       BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                       Padding="0"
                       HeightRequest="60">
                    <Entry Text="{Binding ConfirmPassword}" 
                           Placeholder="Confirm password"
                           PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray500}}"
                           IsPassword="True"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                           BackgroundColor="Transparent"/>
                </Frame>

                <!-- Error Message -->
                <Label Text="{Binding ErrorMessage}" 
                       TextColor="{StaticResource Error}"
                       FontSize="12"
                       Margin="0,-10,0,0"
                       IsVisible="{Binding ErrorMessage}"/>
            </VerticalStackLayout>

            <!-- Footer Section -->
            <VerticalStackLayout Grid.Row="2" Spacing="20" Margin="15,0" MinimumWidthRequest="200" MaximumWidthRequest="400">
                <!-- Register Button -->
                <Button Text="Create Account" 
                        Command="{Binding RegisterCommand}"
                        IsEnabled="{Binding IsEnabled}"
                        BackgroundColor="{StaticResource Primary}"
                        TextColor="White"
                        CornerRadius="12"
                        HeightRequest="50"
                        FontSize="16"
                        FontAttributes="Bold"/>

                <!-- Divider -->
                <StackLayout Orientation="Horizontal" 
                             VerticalOptions="Center"
                             Spacing="10"
                             Margin="0,10">
                    <BoxView HeightRequest="1" 
                             Color="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray700}}"
                             HorizontalOptions="FillAndExpand"
                             VerticalOptions="Center"/>
                    <Label Text="OR" 
                           TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                           FontSize="12"/>
                    <BoxView HeightRequest="1" 
                             Color="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray700}}"
                             HorizontalOptions="FillAndExpand"
                             VerticalOptions="Center"/>
                </StackLayout>

                <!-- Social Login -->
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="20">
                    <ImageButton Source="google.png" 
                                 BackgroundColor="Transparent"
                                 HeightRequest="40"
                                 WidthRequest="40"
                                 CornerRadius="20"/>
                    <ImageButton Source="facebook.png" 
                                 BackgroundColor="Transparent"
                                 HeightRequest="40"
                                 WidthRequest="40"
                                 CornerRadius="20"/>
                    <ImageButton Source="apple.png" 
                                 BackgroundColor="Transparent"
                                 HeightRequest="40"
                                 WidthRequest="40"
                                 CornerRadius="20"/>
                </HorizontalStackLayout>

                <!-- Login Link -->
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="5">
                    <Label Text="Already have an account?" 
                           TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray400}}"
                           FontSize="14"/>
                    <Label Text="Sign in" 
                           TextColor="{StaticResource Primary}"
                           FontSize="14"
                           FontAttributes="Bold">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding GoToLoginCommand}"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>
            </VerticalStackLayout>
        </Grid>
    </ScrollView>
</ContentPage>